<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="searchpagestyle.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Page</title>
</head>

<body>
    <img src="logo.png" alt="Logo" height="100" width=auto>
    <nav>
        <div id="upnav">
            <a href="#home" style="float: right; margin-left: 20px;"><img src="cart.png" alt="Cart icon" height=30px
                    width=auto></a>
            <form class="searchf" action="searchpage.html" method="get" style="margin:auto;max-width:300px">
                <button type="submit" class="searchb"><img src="search.webp" height="35px" width="auto"></i></button>
                <input list="options" type="text" placeholder="Search.." name="search" class="searcht" required>
                <datalist id="options">
                    <option value="controller">
                    <option value="smartphone">
                    <option value="dress">
                    <option value="ball">
                </datalist>
            </form>
            <a href="main.html" style="float: left;"><img src="home.png" alt="Home icon" height=30px width=auto></a>
        </div>
        <div id="downnav">
            <a href="#sale">ON SALE!</a>
            <a href="#food">Food</a>
            <a href="#fashion">Fashion</a>
            <a href="#electronics">Electronics</a>
        </div>
    </nav>

    <div class="searchtitle-container">
        <h2>Search Results For: <span id="searchedfor"></span></h2>
    </div>

    <div class="searchresults-container">
        <div class="resultitem-container">
            <span id="result"></span>
        </div>
    </div>

    <script>
        const items = ["Game Console Controller", "iPhone 15 Smartphone", "Floral Dress", "Basketball", "Tennis Ball"];

        function getQueryParam(parameter) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(parameter);
        };

        function showSearch() {
            document.getElementById('searchedfor').textContent = searchInput;
        };

        function showResults() {
            const searchInputLower = (searchInput.trim().toLowerCase());
            const foundItems = items.filter(item => item.toLowerCase().includes(searchInputLower));
            const resultElement = document.getElementById('result');

            if (foundItems.length > 0) {
                foundItems.forEach(item => {
                    const link = document.createElement('a');
                    link.href = `https://example.com/`;
                    link.textContent = item;
                    resultElement.appendChild(link);
                    resultElement.appendChild(document.createElement('br'));
                });
            }
            else {
                resultElement.textContent = "No results";
            }
        };

        const searchInput = getQueryParam('search');
        showSearch();
        showResults();

    </script>


</body>

</html>